const std = @import("std");
const hex_utils = @import("hex");
const Preset = @import("preset").Preset;
const ChainConfig = @import("../chain_config.zig").ChainConfig;
const BlobScheduleEntry = @import("../chain_config.zig").BlobScheduleEntry;
const b = hex_utils.hexToBytesComptime;

pub const mainnet_chain_config = ChainConfig{
    .PRESET_BASE = Preset.mainnet,
    .CONFIG_NAME = "mainnet",

    .TERMINAL_TOTAL_DIFFICULTY = 58750000000000000000000,
    .TERMINAL_BLOCK_HASH = b(32, "0x0000000000000000000000000000000000000000000000000000000000000000"),
    .TERMINAL_BLOCK_HASH_ACTIVATION_EPOCH = std.math.maxInt(u64),

    // Genesis
    .MIN_GENESIS_ACTIVE_VALIDATOR_COUNT = 16384,
    .MIN_GENESIS_TIME = 1606824000,
    .GENESIS_FORK_VERSION = b(4, "0x00000000"),
    .GENESIS_DELAY = 604800,

    // Forking
    .ALTAIR_FORK_VERSION = b(4, "0x01000000"),
    .ALTAIR_FORK_EPOCH = 74240,
    .BELLATRIX_FORK_VERSION = b(4, "0x02000000"),
    .BELLATRIX_FORK_EPOCH = 144896,
    .CAPELLA_FORK_VERSION = b(4, "0x03000000"),
    .CAPELLA_FORK_EPOCH = 194048,
    .DENEB_FORK_VERSION = b(4, "0x04000000"),
    .DENEB_FORK_EPOCH = 269568,
    .ELECTRA_FORK_VERSION = b(4, "0x05000000"),
    .ELECTRA_FORK_EPOCH = 364032,
    .FULU_FORK_VERSION = b(4, "0x06000000"),
    .FULU_FORK_EPOCH = std.math.maxInt(u64),

    // Time parameters
    .SECONDS_PER_SLOT = 12,
    .SECONDS_PER_ETH1_BLOCK = 14,
    .MIN_VALIDATOR_WITHDRAWABILITY_DELAY = 256,
    .SHARD_COMMITTEE_PERIOD = 256,
    .ETH1_FOLLOW_DISTANCE = 2048,

    // Validator cycle
    .INACTIVITY_SCORE_BIAS = 4,
    .INACTIVITY_SCORE_RECOVERY_RATE = 16,
    .EJECTION_BALANCE = 16000000000,
    .MIN_PER_EPOCH_CHURN_LIMIT = 4,
    .MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT = 8,
    .CHURN_LIMIT_QUOTIENT = 65536,

    // Fork choice
    .PROPOSER_SCORE_BOOST = 40,
    .REORG_HEAD_WEIGHT_THRESHOLD = 20,
    .REORG_PARENT_WEIGHT_THRESHOLD = 160,
    .REORG_MAX_EPOCHS_SINCE_FINALIZATION = 2,

    // Deposit contract
    .DEPOSIT_CHAIN_ID = 1,
    .DEPOSIT_NETWORK_ID = 1,
    .DEPOSIT_CONTRACT_ADDRESS = b(20, "0x00000000219ab540356cBB839Cbe05303d7705Fa"),

    // Networking
    .MIN_EPOCHS_FOR_BLOCK_REQUESTS = 33024,

    // Deneb
    .MIN_EPOCHS_FOR_BLOB_SIDECARS_REQUESTS = 4096,
    .BLOB_SIDECAR_SUBNET_COUNT = 6,
    .MAX_BLOBS_PER_BLOCK = 6,
    .MAX_REQUEST_BLOB_SIDECARS = 768,

    // Electra
    .MAX_PER_EPOCH_ACTIVATION_EXIT_CHURN_LIMIT = 256000000000,
    .MIN_PER_EPOCH_CHURN_LIMIT_ELECTRA = 128000000000,
    .BLOB_SIDECAR_SUBNET_COUNT_ELECTRA = 9,
    .MAX_BLOBS_PER_BLOCK_ELECTRA = 9,
    .MAX_REQUEST_BLOB_SIDECARS_ELECTRA = 1152,

    // Fulu
    .MIN_EPOCHS_FOR_DATA_COLUMN_SIDECARS_REQUESTS = 4096,
    .SAMPLES_PER_SLOT = 8,
    .CUSTODY_REQUIREMENT = 4,
    .NODE_CUSTODY_REQUIREMENT = 1,
    .VALIDATOR_CUSTODY_REQUIREMENT = 8,
    .BALANCE_PER_ADDITIONAL_CUSTODY_GROUP = 32000000000,

    // Blob Scheduling
    .BLOB_SCHEDULE = &[_]BlobScheduleEntry{},
};
